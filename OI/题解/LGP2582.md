# 洛谷 P2582 函数

[函数 - 洛谷](https://www.luogu.com.cn/problem/P2582)

有一个很直接的想法，找到 $f$ 上的轮换，然后将每个轮换中的最小值赋为 $1$ ，用 $f(x)$ 迭代 $g(x)$ 得到轮换中的其他值。

```cpp
for (int i = 1; i <= n; i++)
{
    if (vis[i]) continue;
    int x = i; g[x] = 1;
    do {g[f[x]] = f[g[x]], vis[x] = 1, x = f[x];} while(x != i);
}
```



但是仔细思考后发现这样做不可行，因为还需要满足条件 $g(f^m(x))=f^m(g(x))$ 

即用 $f(x)$ 在 $g$ 上迭代 $m$ 次后，应等于 $f(x)$ 迭代 $m$ 次的值。